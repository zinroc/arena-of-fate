var utils = {
    randomChoice: function (collection) {
        return collection[Math.floor(Math.random() * collection.length)];
    }
};

var fighterFactory = {
    newFighterFame: 1000,
    names: ["Domo",
        // characters from Spartacus
        "Oenomaus", "Crixus", "Spartacus", "Gannicus", "Varro", "Barca",
        // characters from Gladiator
        "Gen. Maximus", "Juba", "Hagen", "Tigris",
        // real historical gladiators
        "Emporor Commodus", "Flamma", "Caladus", "Martianus", "Castus", "Corporphorus", "Priscus", "Verus", "Celadus", "Crescens",
        // pankration Greek champions
        "Theogenes", "Polydamas", "Arrhichion", "Dioxippus"
    ],
    titles: ["Glorious", "Magnificent", "Decapitator", "Nudist", "Brutal", "Handsome"],
    randomTitle: function () {
        return utils.randomChoice(fighterFactory.titles);
    }
};

function Fighter () {
    this.name = utils.randomChoice(fighterFactory.names);
    this.title = null;
    this.fame = fighterFactory.newFighterFame;
    this.num_wins = 0;
    this.num_losses = 0;
    this.status = "living";
};

Fighter.prototype.initSkills = function (skillsArr) {
    this.skills = this.skills || {};
    for (var i = 0; i < skillsArr.length; i++) {
        var skill = skillsArr[i];
        this.skills[skill.id] = Math.round(Math.random() * 100);
    }
};

exports.create = function () {
    return new Fighter();
};
exports.randomTitle = fighterFactory.randomTitle;
