module.exports = function (knex) {
    this.knex = knex;

    return {
        /**
        * Return promise to array
        */
        getAll: function () {
            return knex("strategies").select("*").orderBy("id").then(function (rows) {
                return rows;
            });
        },
        getStrategy: function (id) {
            return knex("strategies").select("*")
            .where("id", id).then(function (rows){
                return rows[0];
            });
        },
        getStratBonuses: function (){
            return knex("strategy_bonuses").select("*").then(function (rows){
                return rows;
            });
        }

    };
};
